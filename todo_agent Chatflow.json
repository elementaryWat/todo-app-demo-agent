{"nodes":[{"width":300,"height":378,"id":"bufferMemory_1","position":{"x":835.6760254118718,"y":-155.3874769757212},"type":"customNode","data":{"id":"bufferMemory_1","label":"Buffer Memory","version":1,"name":"bufferMemory","type":"BufferMemory","baseClasses":["BufferMemory","BaseChatMemory","BaseMemory"],"category":"Memory","description":"Remembers previous conversational back and forths directly","inputParams":[{"label":"Memory Key","name":"memoryKey","type":"string","default":"chat_history","id":"bufferMemory_1-input-memoryKey-string"},{"label":"Input Key","name":"inputKey","type":"string","default":"input","id":"bufferMemory_1-input-inputKey-string"}],"inputAnchors":[],"inputs":{"memoryKey":"chat_history","inputKey":"input"},"outputAnchors":[{"id":"bufferMemory_1-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory","name":"bufferMemory","label":"BufferMemory","type":"BufferMemory | BaseChatMemory | BaseMemory"}],"outputs":{},"selected":false},"positionAbsolute":{"x":835.6760254118718,"y":-155.3874769757212},"selected":false,"dragging":false},{"width":300,"height":525,"id":"chatOpenAI_0","position":{"x":865.27503397812,"y":771.2669846326074},"type":"customNode","data":{"id":"chatOpenAI_0","label":"ChatOpenAI","version":1,"name":"chatOpenAI","type":"ChatOpenAI","baseClasses":["ChatOpenAI","BaseChatModel","BaseLanguageModel"],"category":"Chat Models","description":"Wrapper around OpenAI large language models that use the Chat endpoint","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["openAIApi"],"id":"chatOpenAI_0-input-credential-credential"},{"label":"Model Name","name":"modelName","type":"options","options":[{"label":"gpt-4","name":"gpt-4"},{"label":"gpt-4-0613","name":"gpt-4-0613"},{"label":"gpt-4-32k","name":"gpt-4-32k"},{"label":"gpt-4-32k-0613","name":"gpt-4-32k-0613"},{"label":"gpt-3.5-turbo","name":"gpt-3.5-turbo"},{"label":"gpt-3.5-turbo-0613","name":"gpt-3.5-turbo-0613"},{"label":"gpt-3.5-turbo-16k","name":"gpt-3.5-turbo-16k"},{"label":"gpt-3.5-turbo-16k-0613","name":"gpt-3.5-turbo-16k-0613"}],"default":"gpt-3.5-turbo","optional":true,"id":"chatOpenAI_0-input-modelName-options"},{"label":"Temperature","name":"temperature","type":"number","default":0.9,"optional":true,"id":"chatOpenAI_0-input-temperature-number"},{"label":"Max Tokens","name":"maxTokens","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-maxTokens-number"},{"label":"Top Probability","name":"topP","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-topP-number"},{"label":"Frequency Penalty","name":"frequencyPenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-frequencyPenalty-number"},{"label":"Presence Penalty","name":"presencePenalty","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-presencePenalty-number"},{"label":"Timeout","name":"timeout","type":"number","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-timeout-number"},{"label":"BasePath","name":"basepath","type":"string","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-basepath-string"}],"inputAnchors":[],"inputs":{"modelName":"gpt-3.5-turbo","temperature":0.9,"maxTokens":"","topP":"","frequencyPenalty":"","presencePenalty":"","timeout":"","basepath":""},"outputAnchors":[{"id":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel","name":"chatOpenAI","label":"ChatOpenAI","type":"ChatOpenAI | BaseChatModel | BaseLanguageModel"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":865.27503397812,"y":771.2669846326074},"dragging":false},{"width":300,"height":278,"id":"customTool_0","position":{"x":373.73788044346026,"y":129.1654681375707},"type":"customNode","data":{"id":"customTool_0","label":"Custom Tool","version":1,"name":"customTool","type":"CustomTool","baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","inputParams":[{"label":"Select Tool","name":"selectedTool","type":"asyncOptions","loadMethod":"listTools","id":"customTool_0-input-selectedTool-asyncOptions"}],"inputAnchors":[],"inputs":{"selectedTool":"0d73ba3d-39cf-48d9-a64a-9db9f95d0ce4"},"outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","name":"customTool","label":"CustomTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false},"selected":false,"dragging":false,"positionAbsolute":{"x":373.73788044346026,"y":129.1654681375707}},{"width":300,"height":385,"id":"openAIFunctionAgent_0","position":{"x":1219.0555950930504,"y":318.59230765609993},"type":"customNode","data":{"id":"openAIFunctionAgent_0","label":"OpenAI Function Agent","version":1,"name":"openAIFunctionAgent","type":"AgentExecutor","baseClasses":["AgentExecutor","BaseChain","Runnable"],"category":"Agents","description":"An agent that uses OpenAI's Function Calling functionality to pick the tool and args to call","inputParams":[{"label":"System Message","name":"systemMessage","type":"string","rows":4,"optional":true,"additionalParams":true,"id":"openAIFunctionAgent_0-input-systemMessage-string"}],"inputAnchors":[{"label":"Allowed Tools","name":"tools","type":"Tool","list":true,"id":"openAIFunctionAgent_0-input-tools-Tool"},{"label":"Memory","name":"memory","type":"BaseChatMemory","id":"openAIFunctionAgent_0-input-memory-BaseChatMemory"},{"label":"OpenAI Chat Model","name":"model","description":"Only works with gpt-3.5-turbo-0613 and gpt-4-0613. Refer <a target=\"_blank\" href=\"https://platform.openai.com/docs/guides/gpt/function-calling\">docs</a> for more info","type":"BaseChatModel","id":"openAIFunctionAgent_0-input-model-BaseChatModel"}],"inputs":{"tools":["{{customTool_0.data.instance}}","{{customTool_1.data.instance}}","{{customTool_2.data.instance}}"],"memory":"{{bufferMemory_1.data.instance}}","model":"{{chatOpenAI_0.data.instance}}","systemMessage":""},"outputAnchors":[{"id":"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable","name":"openAIFunctionAgent","label":"AgentExecutor","type":"AgentExecutor | BaseChain | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1219.0555950930504,"y":318.59230765609993},"dragging":false},{"width":300,"height":278,"id":"customTool_1","position":{"x":372.14190024301047,"y":428.0563187245757},"type":"customNode","data":{"id":"customTool_1","label":"Custom Tool","version":1,"name":"customTool","type":"CustomTool","baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","inputParams":[{"label":"Select Tool","name":"selectedTool","type":"asyncOptions","loadMethod":"listTools","id":"customTool_1-input-selectedTool-asyncOptions"}],"inputAnchors":[],"inputs":{"selectedTool":"b49e5f0a-b051-4ee5-9ea0-04a0206df01f"},"outputAnchors":[{"id":"customTool_1-output-customTool-CustomTool|Tool|StructuredTool|Runnable","name":"customTool","label":"CustomTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false},"selected":false,"dragging":false,"positionAbsolute":{"x":372.14190024301047,"y":428.0563187245757}},{"width":300,"height":278,"id":"customTool_2","position":{"x":386.74621531933576,"y":729.9239263814309},"type":"customNode","data":{"id":"customTool_2","label":"Custom Tool","version":1,"name":"customTool","type":"CustomTool","baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","inputParams":[{"label":"Select Tool","name":"selectedTool","type":"asyncOptions","loadMethod":"listTools","id":"customTool_2-input-selectedTool-asyncOptions"}],"inputAnchors":[],"inputs":{"selectedTool":"4f2a65cd-d7d5-41ed-b050-7e28dc1c9c73"},"outputAnchors":[{"id":"customTool_2-output-customTool-CustomTool|Tool|StructuredTool|Runnable","name":"customTool","label":"CustomTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":386.74621531933576,"y":729.9239263814309},"dragging":false}],"edges":[{"source":"customTool_0","sourceHandle":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-tools-Tool","type":"buttonedge","id":"customTool_0-customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool","data":{"label":""}},{"source":"chatOpenAI_0","sourceHandle":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-model-BaseChatModel","type":"buttonedge","id":"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-BaseChatModel","data":{"label":""}},{"source":"bufferMemory_1","sourceHandle":"bufferMemory_1-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-memory-BaseChatMemory","type":"buttonedge","id":"bufferMemory_1-bufferMemory_1-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory","data":{"label":""}},{"source":"customTool_1","sourceHandle":"customTool_1-output-customTool-CustomTool|Tool|StructuredTool|Runnable","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-tools-Tool","type":"buttonedge","id":"customTool_1-customTool_1-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool","data":{"label":""}},{"source":"customTool_2","sourceHandle":"customTool_2-output-customTool-CustomTool|Tool|StructuredTool|Runnable","target":"openAIFunctionAgent_0","targetHandle":"openAIFunctionAgent_0-input-tools-Tool","type":"buttonedge","id":"customTool_2-customTool_2-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool","data":{"label":""}}]}